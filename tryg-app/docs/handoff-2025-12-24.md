# Session Handoff - 2025-12-24

## Project State
- **Current branch**: main
- **Last commit**: 0f31a4b - fix: bind video muted prop to boolean state to allow unmute
- **Dev server**: `npm run dev`

## Changes Made This Session
| File | Change |
|------|--------|
| `docs/FONDSANSOEGNING_STRATEGI.md` | Created comprehensive funding strategy with 4 tracks (Elder Care, Loneliness, Integration, Disability). |
| `docs/CHANGELOG.md` | Updated with Funding Strategy and Architecture Planning entries. |
| `docs/ROADMAP.md` | Marked Funding Strategy as complete; added "AppCore Diet (Phase 1)" to High Priority. |
| `docs/LEARNINGS.md` | Added architectural insight regarding Mirror Protocol vs. generic refactors. |

## Key Patterns Discovered
- **Mirror Protocol (Architectural Anchor)**: The app MUST maintain a unified `CareCircleContext`. Proposals to split this into domain-specific contexts were rejected to preserve role symmetry and Single Source of Truth.
- **AppCore Diet Strategy**: Instead of splitting contexts, the preferred refactor path is extracting UI Layout (`PhoneFrame`) and Data Providers (`CareCircleProvider`) as separate layers above `AppCore`.

## Decisions Made
| Decision | Rationale |
|----------|-----------|
| Chose "AppCore Diet" over "Context Splitting" | Splitting contexts would break the Mirror Protocol and complicate real-time sync between roles. Extraction preserves the API while cleaning the God Component. |
| Prioritized "Spor D" (Disability) in Strategy | Expands the potential funding pool and leverages Tryg's existing structural strengths. |

## Active Issues
- [ ] Implement Phase 1 of AppCore Diet (PhoneFrame/CareCircleProvider).
- [ ] Verify onboarding media aspect ratios on real iOS devices.

## Quick Start for Next Session
1. Run `npm run dev`
2. The current focus is **Phase 1 of the AppCore Diet refactor**.
3. Start by looking at [implementation_plan.md](file:///c:/Users/dinko/.gemini/antigravity/brain/797a4cb1-a906-496a-8439-fc2f78c03c62/implementation_plan.md) and creating `src/components/layout/PhoneFrame.tsx`.
